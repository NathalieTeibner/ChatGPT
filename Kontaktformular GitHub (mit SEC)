<!DOCTYPE html> 

<html lang="de"> 

<head> 

  <meta charset="UTF-8"> 

  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 

  <title>Kontaktformular</title> 

  <style> 

    body { 

      font-family: Arial, sans-serif; 

    } 

    form { 

      max-width: 500px; 

      margin: auto; 

      padding: 1em; 

      border: 1px solid #ccc; 

      border-radius: 5px; 

    } 

    input, textarea { 

      width: 100%; 

      padding: 0.5em; 

      margin: 0.5em 0; 

      border: 1px solid #ddd; 

      border-radius: 4px; 

    } 

    button { 

      padding: 0.7em; 

      color: #fff; 

      background-color: #007BFF; 

      border: none; 

      border-radius: 5px; 

      cursor: pointer; 

    } 

    button:hover { 

      background-color: #0056b3; 

    } 

  </style> 

</head> 

<body> 

  <h1>Kontaktformular</h1> 

  <form id="contactForm"> 

    <label for="name">Name:</label> 

    <input type="text" id="name" name="name" required> 

  

    <label for="email">E-Mail:</label> 

    <input type="email" id="email" name="email" required> 

  

    <label for="message">Nachricht:</label> 

    <textarea id="message" name="message" rows="5" required></textarea> 

  

    <button type="submit">Absenden</button> 

  </form> 

  

  <script name=contact-form.js> 

    document.getElementById('contactForm').addEventListener('submit', async function (event) { 

      event.preventDefault(); 

  

      // Sicherheitsmaßnahmen: Escape/Encode der Benutzereingaben 

      const escapeInput = (str) => { 

        return str.replace(/[&<>"']/g, function (match) { 

          const escapeChars = { 

            '&': '&amp;', 

            '<': '&lt;', 

            '>': '&gt;', 

            '"': '&quot;', 

            "'": '&#39;' 

          }; 

          return escapeChars[match]; 

        }); 

      }; 

  

      // Eingaben sammeln und escapen 

      const name = escapeInput(document.getElementById('name').value.trim()); 

      const email = escapeInput(document.getElementById('email').value.trim()); 

      const message = escapeInput(document.getElementById('message').value.trim()); 

  

      // Clientseitige Validierung 

      if (!name || !email || !message) { 

        alert('Bitte füllen Sie alle Felder aus.'); 

        return; 

      } 

  

      try { 

        // Daten an den Server senden (hier als Beispiel ein Mock-Endpunkt) 

        const response = await fetch('https://example.com/api/contact', { 

          method: 'POST', 

          headers: { 

            'Content-Type': 'application/json' 

          }, 

          body: JSON.stringify({ name, email, message }) 

        }); 

  

        if (!response.ok) { 

          throw new Error('Fehler beim Absenden des Formulars.'); 

        } 

  

        alert('Nachricht erfolgreich gesendet!'); 

        document.getElementById('contactForm').reset(); 

      } catch (error) { 

        console.error('Fehler:', error); 

        alert('Es gab ein Problem beim Senden. Bitte versuchen Sie es später erneut.'); 

      } 

    }); 

  </script> 

</body> 

</html> 
